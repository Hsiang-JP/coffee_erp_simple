{
  "version": 3,
  "sources": ["../../wa-sqlite/src/examples/MemoryAsyncVFS.js"],
  "sourcesContent": ["// Copyright 2021 Roy T. Hashimoto. All Rights Reserved.\nimport { MemoryVFS } from './MemoryVFS.js';\n\n// Asynchronous memory filesystem. This filesystem requires an Asyncify\n// build. It is mainly useful for testing that the Asyncify build is\n// working.\nexport class MemoryAsyncVFS extends MemoryVFS {\n  name = 'memory-async';\n  \n  constructor() {\n    super();\n  }\n\n  async close() {\n    for (const fileId of this.mapIdToFile.keys()) {\n      await this.xClose(fileId);\n    }\n  }\n\n  /**\n   * @param {string?} name \n   * @param {number} fileId \n   * @param {number} flags \n   * @param {DataView} pOutFlags \n   * @returns {number}\n   */\n  xOpen(name, fileId, flags, pOutFlags) {\n    return this.handleAsync(async () => super.xOpen(name, fileId, flags, pOutFlags));\n  }\n\n  /**\n   * @param {number} fileId \n   * @returns {number}\n   */\n  xClose(fileId) {\n    return this.handleAsync(async () => super.xClose(fileId));\n  }\n\n  /**\n   * @param {number} fileId \n   * @param {Uint8Array} pData \n   * @param {number} iOffset\n   * @returns {number}\n   */\n  xRead(fileId, pData, iOffset) {\n    return this.handleAsync(async () => super.xRead(fileId, pData, iOffset));\n  }\n\n  /**\n   * @param {number} fileId \n   * @param {Uint8Array} pData \n   * @param {number} iOffset\n   * @returns {number}\n   */\n  xWrite(fileId, pData, iOffset) {\n    return this.handleAsync(async () => super.xWrite(fileId, pData, iOffset));\n  }\n\n  /**\n   * @param {number} fileId \n   * @param {number} iSize \n   * @returns {number}\n   */\n  xTruncate(fileId, iSize) {\n    return this.handleAsync(async () => super.xTruncate(fileId, iSize));\n  }\n\n  /**\n   * @param {number} fileId \n   * @param {DataView} pSize64 \n   * @returns {number}\n   */\n  xFileSize(fileId, pSize64) {\n    return this.handleAsync(async () => super.xFileSize(fileId, pSize64));\n  }\n\n  /**\n   * \n   * @param {string} name \n   * @param {number} syncDir \n   * @returns {number}\n   */\n  xDelete(name, syncDir) {\n    return this.handleAsync(async () => super.xDelete(name, syncDir));\n  }\n\n  /**\n   * @param {string} name \n   * @param {number} flags \n   * @param {DataView} pResOut \n   * @returns {number}\n   */\n  xAccess(name, flags, pResOut) {\n    return this.handleAsync(async () => super.xAccess(name, flags, pResOut));\n  }\n}\n"],
  "mappings": ";;;;;;;;;;AAMO,IAAM,iBAAN,cAA6B,UAAU;AAAA,EAG5C,cAAc;AACZ,UAAM;AAHR,gCAAO;AAAA,EAIP;AAAA,EAEA,MAAM,QAAQ;AACZ,eAAW,UAAU,KAAK,YAAY,KAAK,GAAG;AAC5C,YAAM,KAAK,OAAO,MAAM;AAAA,IAC1B;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA,MAAM,MAAM,QAAQ,OAAO,WAAW;AACpC,WAAO,KAAK,YAAY,YAAY,MAAM,MAAM,MAAM,QAAQ,OAAO,SAAS,CAAC;AAAA,EACjF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,QAAQ;AACb,WAAO,KAAK,YAAY,YAAY,MAAM,OAAO,MAAM,CAAC;AAAA,EAC1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,MAAM,QAAQ,OAAO,SAAS;AAC5B,WAAO,KAAK,YAAY,YAAY,MAAM,MAAM,QAAQ,OAAO,OAAO,CAAC;AAAA,EACzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,OAAO,QAAQ,OAAO,SAAS;AAC7B,WAAO,KAAK,YAAY,YAAY,MAAM,OAAO,QAAQ,OAAO,OAAO,CAAC;AAAA,EAC1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,UAAU,QAAQ,OAAO;AACvB,WAAO,KAAK,YAAY,YAAY,MAAM,UAAU,QAAQ,KAAK,CAAC;AAAA,EACpE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,UAAU,QAAQ,SAAS;AACzB,WAAO,KAAK,YAAY,YAAY,MAAM,UAAU,QAAQ,OAAO,CAAC;AAAA,EACtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,QAAQ,MAAM,SAAS;AACrB,WAAO,KAAK,YAAY,YAAY,MAAM,QAAQ,MAAM,OAAO,CAAC;AAAA,EAClE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,QAAQ,MAAM,OAAO,SAAS;AAC5B,WAAO,KAAK,YAAY,YAAY,MAAM,QAAQ,MAAM,OAAO,OAAO,CAAC;AAAA,EACzE;AACF;",
  "names": []
}
